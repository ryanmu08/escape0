<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="SpriteKindLegacy" id=":tdsyA]L.PObucsBj/Z|">0Player</variable><variable type="SpriteKindLegacy" id="g`ZR3JU9=00{$(oP/wFo">1Projectile</variable><variable type="SpriteKindLegacy" id="ABor:]NAq)2VZ4VIk.;M">2Food</variable><variable type="SpriteKindLegacy" id="bHI(EONMlko92^lwIvVk">3Enemy</variable><variable type="BLOCKLY_TILESET_TYPE" id="X;#OLx#su#J(Zh?*/A1I">0;16;16;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="P=_%5`HA)t40DFenR(a6">4;16;16;ddddddddddddddddddddddddddddddddddddddddddddddddddbbddddddddddddddbddddddddddddddddddddddddbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddbdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd</variable><variable type="KIND_SpriteKind" id="c::p+]T#kLwP*5c?+`q9">Player</variable><variable type="KIND_SpriteKind" id="?:7?P%(P#bQwI9]qEZ7s">Projectile</variable><variable type="KIND_SpriteKind" id="Fz4Mc9kE|ydF5l@JeNQE">Food</variable><variable type="KIND_SpriteKind" id="?JTvg?LuZi@GkPF*a$n+">Enemy</variable><variable id="1kwG34ZS!mk5NNF!(d[B">enemies</variable><variable id="?F^,SMcuq``E:+6t-C_E">值</variable><variable id="nkBeQEp|E3PWjpBs=wRQ">level</variable><variable id="Yk]5X:Tf9r]Rw[*OQd%u">mySprite</variable><variable id="|x1iYZX%yUWc:bFp5^k:">enemyNumber</variable><variable id="dpLZE^5Cmu#/K%,c,C09">gemNumber</variable><variable id="iNj!:=VGT}~dv|D1hx:O">levelTime</variable><variable id="$@OA}ZlN4n2!LR|n4w[Y">gemSprite</variable><variable id="1F4F3.G;a}H1e#kN1myj">gems</variable><variable id="cJe[X63|a/Ns.x!lfU9C">enemySprite</variable><variable id="-3bVUUO6[x0zP-7^Haeb">speedX</variable><variable id="#6,W:un0XzAmh8yfx23)">speedY</variable><variable id="O?7)73BeUP;5chU}*$:-">enemySprite2</variable><variable id="_G#tBz4]ul.)Q7d:7gVU">值2</variable></variables><block type="function_definition" x="380" y="16"><mutation name="destroyAllGem" functionid="@~JhBlG]NLL]?m,dP[KZ"/><field name="function_name">destroyAllGem</field><statement name="STACK"><block type="pxt_controls_for_of"><value name="LIST"><block type="variables_get"><field name="VAR" id="1F4F3.G;a}H1e#kN1myj">gems</field></block></value><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="_G#tBz4]ul.)Q7d:7gVU">值2</field></shadow></value><statement name="DO"><block type="spritedestroy"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><block type="variables_get"><field name="VAR" id="_G#tBz4]ul.)Q7d:7gVU">值2</field></block></value></block></statement></block></statement></block><block type="function_definition" x="700" y="436"><mutation name="spawnGems" functionid="CZhW#L?Y/U8izo3F+8Qj"><arg name="数字" id="an5at5vtw92m427toxe7" type="number"/></mutation><field name="function_name">spawnGems</field><value name="an5at5vtw92m427toxe7"><shadow type="argument_reporter_number"><field name="VALUE">数字</field></shadow></value><statement name="STACK"><block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">数字</field></block></value><statement name="DO"><block type="variables_set"><field name="VAR" id="$@OA}ZlN4n2!LR|n4w[Y">gemSprite</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate"><value name="img"><shadow type="screen_image_picker"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . 4 4 4 4 . . . . . . 
. . . . 4 4 4 5 5 4 4 4 . . . . 
. . . 3 3 3 3 4 4 4 4 4 4 . . . 
. . 4 3 3 3 3 2 2 2 1 1 4 4 . . 
. . 3 3 3 3 3 2 2 2 1 1 5 4 . . 
. 4 3 3 3 3 2 2 2 2 2 5 5 4 4 . 
. 4 3 3 3 2 2 2 4 4 4 4 5 4 4 . 
. 4 4 3 3 2 2 4 4 4 4 4 4 4 4 . 
. 4 2 3 3 2 2 4 4 4 4 4 4 4 4 . 
. . 4 2 3 3 2 4 4 4 4 4 2 4 . . 
. . 4 2 2 3 2 2 4 4 4 2 4 4 . . 
. . . 4 2 2 2 2 2 2 2 2 4 . . . 
. . . . 4 4 2 2 2 2 4 4 . . . . 
. . . . . . 4 4 4 4 . . . . . . 
. . . . . . . . . . . . . . . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Food</field></shadow></value></block></value><next><block type="controls_if"><mutation elseif="2" else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="mapplaceonrandomtile"><value name="sprite"><shadow type="variables_get"><field name="VAR" id="$@OA}ZlN4n2!LR|n4w[Y">gemSprite</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.castle.tilePath5</field></shadow></value></block></statement><value name="IF1"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><statement name="DO1"><block type="mapplaceonrandomtile"><value name="sprite"><shadow type="variables_get"><field name="VAR" id="$@OA}ZlN4n2!LR|n4w[Y">gemSprite</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.castle.tilePath5</field></shadow></value></block></statement><value name="IF2"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></value><statement name="DO2"><block type="mapplaceonrandomtile"><value name="sprite"><shadow type="variables_get"><field name="VAR" id="$@OA}ZlN4n2!LR|n4w[Y">gemSprite</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.dungeon.darkGroundCenter</field></shadow></value></block></statement><statement name="ELSE"><block type="mapplaceonrandomtile"><value name="sprite"><block type="variables_get"><field name="VAR" id="$@OA}ZlN4n2!LR|n4w[Y">gemSprite</field></block></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.dungeon.floorLight2</field></shadow></value></block></statement><next><block type="array_push"><value name="list"><block type="variables_get"><field name="VAR" id="1F4F3.G;a}H1e#kN1myj">gems</field></block></value><value name="value"><block type="variables_get"><field name="VAR" id="$@OA}ZlN4n2!LR|n4w[Y">gemSprite</field></block></value></block></next></block></next></block></statement></block></statement></block><block type="function_definition" x="0" y="496"><mutation name="destroyAllEnemies" functionid="ojB*tliWTGOHi)JAfGXq"/><field name="function_name">destroyAllEnemies</field><statement name="STACK"><block type="pxt_controls_for_of"><value name="LIST"><block type="variables_get"><field name="VAR" id="1kwG34ZS!mk5NNF!(d[B">enemies</field></block></value><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="?F^,SMcuq``E:+6t-C_E">值</field></shadow></value><statement name="DO"><block type="spritedestroy"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><block type="variables_get"><field name="VAR" id="?F^,SMcuq``E:+6t-C_E">值</field></block></value></block></statement></block></statement></block><block type="function_definition" x="1440" y="516"><mutation name="resetSpriteSpeed" functionid="]WL2WA2{^-gRN49R/^zV"><arg name="spriteToReset" id="anhyrrglehubwlsjusxro" type="Sprite"/></mutation><field name="function_name">resetSpriteSpeed</field><value name="anhyrrglehubwlsjusxro"><shadow type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">spriteToReset</field></shadow></value><statement name="STACK"><block type="variables_set"><field name="VAR" id="-3bVUUO6[x0zP-7^Haeb">speedX</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="variables_set"><field name="VAR" id="#6,W:un0XzAmh8yfx23)">speedY</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="device_while"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="-3bVUUO6[x0zP-7^Haeb">speedX</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="#6,W:un0XzAmh8yfx23)">speedY</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value></block></value><statement name="DO"><block type="variables_set"><field name="VAR" id="#6,W:un0XzAmh8yfx23)">speedY</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random"><value name="min"><shadow type="math_number"><field name="NUM">-1</field></shadow></value><value name="limit"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><next><block type="variables_set"><field name="VAR" id="-3bVUUO6[x0zP-7^Haeb">speedX</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random"><value name="min"><shadow type="math_number"><field name="NUM">-1</field></shadow></value><value name="limit"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value></block></next></block></statement><next><block type="variables_set"><field name="VAR" id="-3bVUUO6[x0zP-7^Haeb">speedX</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="-3bVUUO6[x0zP-7^Haeb">speedX</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">50</field></shadow></value></block></value><next><block type="variables_set"><field name="VAR" id="#6,W:un0XzAmh8yfx23)">speedY</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="#6,W:un0XzAmh8yfx23)">speedY</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">50</field></shadow></value></block></value><next><block type="spritesetvel"><value name="sprite"><block type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">spriteToReset</field></block></value><value name="vx"><shadow type="spriteSpeedPicker"/><block type="variables_get"><field name="VAR" id="-3bVUUO6[x0zP-7^Haeb">speedX</field></block></value><value name="vy"><shadow type="spriteSpeedPicker"/><block type="variables_get"><field name="VAR" id="#6,W:un0XzAmh8yfx23)">speedY</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" x="20" y="916"><mutation name="setLevelMap" functionid="jQ~h{CG_6(27vuY?{mo#"><arg name="level" id="0mnnhbo15h03bpzo0s5" type="number"/></mutation><field name="function_name">setLevelMap</field><value name="0mnnhbo15h03bpzo0s5"><shadow type="argument_reporter_number"><field name="VALUE">level</field></shadow></value><statement name="STACK"><block type="controls_if"><mutation elseif="2" else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="game_show_long_text"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text"><field name="TEXT">第一关</field></shadow></value><next><block type="variables_set"><field name="VAR" id="|x1iYZX%yUWc:bFp5^k:">enemyNumber</field><value name="VALUE"><shadow type="math_number"><field name="NUM">6</field></shadow></value><next><block type="variables_set"><field name="VAR" id="dpLZE^5Cmu#/K%,c,C09">gemNumber</field><value name="VALUE"><shadow type="math_number"><field name="NUM">3</field></shadow></value><next><block type="variables_set"><field name="VAR" id="iNj!:=VGT}~dv|D1hx:O">levelTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">12</field></shadow></value><next><block type="tilemap_editor"><field name="tilemap">tiles.createTilemap(
            hex`10001000020f0c0c0c0c0c0c0c0c0c0c0c0c0c0c020309090909090909090909080c0c0c020305050505050505050a0a070c0c0c020316160b0b0b0b0b0b030a070c0c0c020316160c0c0c020c0c030a070c0c0c0203090909080c0c0c0c030a070c0c0c02030a050a070c0c0c0c030a070c0c0c0203071603070c0c0c0c030a070c0c0c0203071603070c0c0c0c030a0a0c0c0c0203071603070c0c01090a0a0a080c0c02030a090a070c0c030a05050a070c0c0c0405050a070c0c03070c0c03070c0c0c0c0c0c030a09090a070c0c03070c0c0c0c0c0c030a050505060c0c03070c0c0c0c0c0c03070c0c0c0c0c0c03070c0c0c0c0c0c04060c0c0c0c0c0c030a100c`,
            img`
2 . 2 2 2 2 2 2 2 2 2 2 2 2 . . 
2 . . . . . . . . . . . . 2 . . 
2 . . . . . . . . . . . . 2 . . 
2 . 2 2 2 2 2 2 2 2 . . . 2 . . 
2 . 2 2 2 2 2 . . 2 . . . 2 . . 
2 . . . . . 2 . . 2 . . . 2 . . 
2 . . . . . 2 . . 2 . . . 2 . . 
2 . . 2 . . 2 . . 2 . . . 2 . . 
2 . . 2 . . 2 . 2 2 . . . 2 2 . 
2 . . 2 . . 2 2 . . . . . . 2 . 
2 . . . . . 2 2 . . . . . . 2 . 
2 . . . . . 2 2 . . 2 2 . . 2 . 
2 2 2 2 . . . . . . 2 2 . . 2 . 
. . . 2 . . . . . . 2 2 . . 2 . 
. . . 2 . . 2 2 2 2 2 2 . . 2 . 
. . . 2 . . 2 . . . . 2 . . . 2 
`,
            [myTiles.tile0,sprites.castle.tilePath1,sprites.castle.tileGrass2,sprites.castle.tilePath4,sprites.castle.tilePath7,sprites.castle.tilePath8,sprites.castle.tilePath9,sprites.castle.tilePath6,sprites.castle.tilePath3,sprites.castle.tilePath2,sprites.castle.tilePath5,sprites.castle.tileGrass1,sprites.castle.tileGrass3,sprites.dungeon.stairNorth,sprites.dungeon.doorOpenSouth,sprites.dungeon.stairLadder,sprites.dungeon.stairLarge,sprites.builtin.forestTiles20,sprites.builtin.forestTiles24,sprites.builtin.forestTiles27,sprites.builtin.forestTiles11,sprites.builtin.forestTiles7,sprites.builtin.forestTiles0,myTiles.tile4],
            TileScale.Sixteen
        )</field></block></next></block></next></block></next></block></next></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><statement name="DO1"><block type="game_show_long_text"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text"><field name="TEXT">第二关</field></shadow></value><next><block type="variables_set"><field name="VAR" id="|x1iYZX%yUWc:bFp5^k:">enemyNumber</field><value name="VALUE"><shadow type="math_number"><field name="NUM">9</field></shadow></value><next><block type="variables_set"><field name="VAR" id="dpLZE^5Cmu#/K%,c,C09">gemNumber</field><value name="VALUE"><shadow type="math_number"><field name="NUM">6</field></shadow></value><next><block type="variables_set"><field name="VAR" id="iNj!:=VGT}~dv|D1hx:O">levelTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">25</field></shadow></value><next><block type="tilemap_editor"><field name="tilemap">tiles.createTilemap(
            hex`14001400171717161616171717171717171717171717171717171717171717170109090909090909081717171717171717171717030a0a0a0a0a0a0a071717171717171717171717030a0a171717170a071717171801091017171717030a0a171717170a0717171717030a0717171717030a0a171717170a0717171717030a0717171717030a0a171717170a0717171717030a0717171717030a0a090909090a0717171717030a0717171717030a07161616160a0717171717030a0a090909090a0a07161616160a0717171717030a0a0a0a0a0a0a0a0717181717030a09090817030a0a0a0a050505050617171718030a0a0a07161616160a071717171717171717171616160a07161616160a07171717171718171717030a0a0a07161616160a07171717171717171717030a050506171616160a07171717171717171717030717171717171616160a0909090909090909090a07171717171716161605050505050505050a0a0a071717171717171616171717171717171704050a061717171717171616171717171717171717170f17171717`,
            img`
. . . . . . . 2 2 2 2 2 2 2 2 2 2 2 2 . 
. . . . . . . 2 . . . . . . . . . 2 . . 
. . . . . . . 2 . . . . . . . . . 2 . . 
2 2 2 2 2 . . 2 . . . 2 2 2 2 . . 2 . . 
2 . . . 2 . . 2 . . . 2 . . 2 . . 2 . . 
2 . . . 2 . . 2 . . . 2 . . 2 . . 2 . . 
2 . . . 2 . . 2 . . . 2 2 2 2 . . 2 . . 
2 . . . 2 . . 2 . . . . . . . . . 2 . . 
2 . . . 2 2 2 2 . . . 2 2 2 2 . . 2 . . 
2 . . . . . . . . . . 2 2 2 2 . . 2 2 2 
2 . . . . . . . . . . 2 . . 2 . . . . . 
2 . . . . . . . . . . 2 . . 2 . . . . . 
2 2 2 2 . . 2 2 2 2 2 2 . . 2 2 2 2 . . 
. . 2 2 . . 2 . . . . . . . 2 . . . . . 
. . . 2 . . 2 . . . . . . . 2 . . . . . 
. . . 2 . . 2 2 2 2 2 2 2 2 2 . . 2 2 2 
. . . 2 2 . . . . . . . . . . . . 2 . . 
. . . . 2 . . . . . . . . . . . . 2 . . 
. . . . 2 2 2 2 2 2 2 2 2 . . . . 2 . . 
. . . . 2 2 . . . . . . 2 2 2 . 2 2 . . 
`,
            [myTiles.tile0,sprites.castle.tilePath1,sprites.castle.tileGrass2,sprites.castle.tilePath4,sprites.castle.tilePath7,sprites.castle.tilePath8,sprites.castle.tilePath9,sprites.castle.tilePath6,sprites.castle.tilePath3,sprites.castle.tilePath2,sprites.castle.tilePath5,sprites.castle.tileGrass1,sprites.castle.tileGrass3,sprites.dungeon.stairNorth,sprites.dungeon.doorOpenSouth,sprites.dungeon.stairLadder,sprites.dungeon.stairLarge,sprites.builtin.forestTiles20,sprites.builtin.forestTiles24,sprites.builtin.forestTiles27,sprites.builtin.forestTiles11,sprites.builtin.forestTiles7,sprites.builtin.forestTiles0,sprites.castle.tileDarkGrass3,sprites.castle.tileDarkGrass2,myTiles.tile4],
            TileScale.Sixteen
        )</field></block></next></block></next></block></next></block></next></block></statement><value name="IF2"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></value><statement name="DO2"><block type="game_show_long_text"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text"><field name="TEXT">第三关</field></shadow></value><next><block type="variables_set"><field name="VAR" id="|x1iYZX%yUWc:bFp5^k:">enemyNumber</field><value name="VALUE"><shadow type="math_number"><field name="NUM">12</field></shadow></value><next><block type="variables_set"><field name="VAR" id="dpLZE^5Cmu#/K%,c,C09">gemNumber</field><value name="VALUE"><shadow type="math_number"><field name="NUM">9</field></shadow></value><next><block type="variables_set"><field name="VAR" id="iNj!:=VGT}~dv|D1hx:O">levelTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value><next><block type="tilemap_editor"><field name="tilemap">tiles.createTilemap(
            hex`19001900171717171717171717171717171717171717171717171717171b1818181818181818181818181818181818181818181817171718181818181818181818181818181818181818181818171717181818181818181817171717181f1f1f1f1f1f181818171c1718180f1717171717171b1717181f1f1f1f1f1f181818171c171818171a1a17171717171717181f1f1f1f1f1f181818171c1a1818171a1a17181818181818181f1f1f1f1f1f181818171c1a1717171a1a17181818181818181818181818181818181717171717171a1a171818181818181818181818181818181817171717171a1a1a1718181c1717181818181818181818181817171717171a1a1a1718181c1b171818171b1717181c1c1c1c17171718181818181818181c1917181817171b17181c1c1c1c17171718181818181818181c19171818181818181818181817171717181818171717171717171717171818181818171818171717171818181717171717171818101717171718181718181818171718181817181818181818181819171717181817181818181717181818171818181818181818191717171818171818171717171818181718181717171e1e1e1717171718181718181a171717171818171818171e171e1e1e1e1e171718181718181717171a171818171818181818181818181818181818171818171a171a1718181718181818181818181818181818181718181717171e1718181717171717171717171717171717171718181717171e171818181818181818181818181818181818181818171a171e1718181818181818181818181818181818181818181717171e171717171717171717171717171717171717171717171717`,
            img`
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
2 . . . . . . . . . . . . . . . . . . . . . . 2 2 
2 . . . . . . . . . . . . . . . . . . . . . . 2 2 
2 . . . . . . . . 2 2 2 2 . 2 2 2 2 2 2 . . . 2 2 
2 . . . 2 2 2 2 2 2 2 2 2 . 2 2 2 2 2 2 . . . 2 2 
2 . . 2 2 2 2 2 2 2 2 2 2 . 2 2 2 2 2 2 . . . 2 2 
2 . . 2 2 2 2 . . . . . . . 2 2 2 2 2 2 . . . 2 2 
2 2 2 2 2 2 2 . . . . . . . . . . . . . . . . 2 2 
2 2 2 2 2 2 2 . . . . . . . . . . . . . . . . 2 2 
2 2 2 2 2 2 2 . . 2 2 2 . . . . . . . . . . . 2 2 
2 2 2 2 2 2 2 . . 2 2 2 . . 2 2 2 2 . 2 2 2 2 2 2 
2 . . . . . . . . 2 2 2 . . 2 2 2 2 . 2 2 2 2 2 2 
2 . . . . . . . . 2 2 2 . . . . . . . . . . 2 2 2 
2 . . . 2 2 2 2 2 2 2 2 2 2 . . . . . 2 . . 2 2 2 
2 . . . 2 2 2 2 2 2 . . . 2 2 2 2 . . 2 . . . . 2 
2 . . . 2 . . . . . . . . 2 2 2 2 . . 2 . . . . 2 
2 . . . 2 . . . . . . . . 2 2 2 2 . . 2 . . 2 2 2 
2 . . . 2 . . 2 2 2 2 2 2 2 2 2 2 . . 2 . . 2 2 2 
2 2 . . 2 . . 2 2 2 2 2 2 2 2 2 2 . . 2 . . 2 2 2 
2 2 . . 2 . . . . . . . . . . . . . . 2 . . 2 2 2 
2 2 . . 2 . . . . . . . . . . . . . . 2 . . 2 2 2 
2 2 . . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 2 2 2 
2 2 . . . . . . . . . . . . . . . . . . . . 2 2 2 
2 2 . . . . . . . . . . . . . . . . . . . . 2 2 2 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,sprites.castle.tilePath1,sprites.castle.tileGrass2,sprites.castle.tilePath4,sprites.castle.tilePath7,sprites.castle.tilePath8,sprites.castle.tilePath9,sprites.castle.tilePath6,sprites.castle.tilePath3,sprites.castle.tilePath2,sprites.castle.tilePath5,sprites.castle.tileGrass1,sprites.castle.tileGrass3,sprites.dungeon.stairNorth,sprites.dungeon.doorOpenSouth,sprites.dungeon.stairLadder,sprites.dungeon.stairLarge,sprites.builtin.forestTiles20,sprites.builtin.forestTiles24,sprites.builtin.forestTiles27,sprites.builtin.forestTiles11,sprites.builtin.forestTiles7,sprites.builtin.forestTiles0,sprites.dungeon.floorLight0,sprites.dungeon.darkGroundCenter,sprites.dungeon.floorLightMoss,sprites.dungeon.floorLight5,sprites.dungeon.floorLight3,sprites.dungeon.floorLight4,sprites.dungeon.greenOuterEast2,sprites.dungeon.floorLight1,sprites.dungeon.floorLight2,myTiles.tile4],
            TileScale.Sixteen
        )</field></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="game_show_long_text"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text"><field name="TEXT">第四关</field></shadow></value><next><block type="variables_set"><field name="VAR" id="|x1iYZX%yUWc:bFp5^k:">enemyNumber</field><value name="VALUE"><shadow type="math_number"><field name="NUM">15</field></shadow></value><next><block type="variables_set"><field name="VAR" id="dpLZE^5Cmu#/K%,c,C09">gemNumber</field><value name="VALUE"><shadow type="math_number"><field name="NUM">14</field></shadow></value><next><block type="variables_set"><field name="VAR" id="iNj!:=VGT}~dv|D1hx:O">levelTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">80</field></shadow></value><next><block type="tilemap_editor"><field name="tilemap">tiles.createTilemap(
            hex`240024001f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1414141f1f141414141414141414141f1f1f1f1f1f1f1f1f1f1f141414141f1f1f1f1f1f1414141f14141414141414141414141f1f1f1414141414141414141414141f1f1f1f14141414141f14141414141414141414141414141414141414141414141414141f1f1f1f141414141f1f14141414141414141f1f1f1f1f1f1f1f1f1f1f1f1f14141414141f1f1f1f14141f1f1f1414141f1f1f1f1f1f1f1f14141f141414141f14141f14141414141f1f1f1f14141414141414141f1414141414141414141f141414141414141f14141414141f1f1f1f14141414141414141f1414141414141414141f1414141f1f1f1f1f14141414141f1f141414141f1f1f1f1f1f1f1414141f1f1f1f1f1f1f14141f1f1414141414141414141f1f141414141f141f1414141414141414141414141f1414141f141414141414141414141f1f141414141f141f1414141414141414141414141f1414141f14141414141414141f1f1f1f141414141f141f141f141f1f1f1f14141f1414141414141f1414141f1f1f1f1f1f141f1f141414141f141f141f141418141f14141f1414141414141f141414141414141414141f1f141414141f1414141f1f1414141f14141f141f1f1f1f1f1f141414141414141414141f1f141414141f141414141f1f1f1f1f14141f141f1414141414141414141414141414141f1f141414141f14141414141414141414141f141f1414141414141f1f1f1f1f1f1f14141f1f141414141f1f1f1f141414141414141f1f141f14141f1f14141f14141414141f14141f1f14141f141414141f1f14141414141f1f14141f14141f1f14141f14141414141f14141f1f14141f1f1414141f1f141414141f1f1414141f1414141414141f1414141f1f1f14141f1f1414141f1f141f1f141414141f1f1414141f1f1414141414141f1414141f141414141f1f14141414141f1f141414141f1f141414141f1f1f1f1f1414141f1414141f141414141f1f141414141f1f141414141f1f1414141414141414141f1414141f1414141f141414141f1f14141f1f1f141414141f14141414141414141414141f1414141f1414141f1f1f1f1f1f1f14141f14141414141f14141414141414141f14141f141414141f1f1f1414141414141f1f14141f141414141f14141f1f1f1f1f14141f14141f141414141414141f14141414141f1f14141f1414141f1f14141f1414141f14141f14141f1414141414141f1f14141714141f1f14141f141414141414141f1414141f14141f14141f1f1f1f1f1f1f1f1414141414141f1f14141f141414141414141f1414141f14141f14141414141f14141414141414141f1f1f1f14141f1f1414141414141f1414141f14141414141414141f14141414141f1f1f1f141f1f1414141f1f1f1f1f1f1f1f14141f1f14141414141414141f141414141414141414141f1f141414141414141414141414141f14141414141414141414141414141414141414141f1f141414141414141414141f1f1f1f141414141f1f1f1f1414141f1f1f1f1f1414141f1f1f1f1f14141414141f1f1f1f141414141414141f1f1f1f1414141f141414141414141f1f1f1f1f1f1414141414141414141414141414141f1f1f1f1414141f141414141414141f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1414141f1f1f1f1414141f14141f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f`,
            img`
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
2 2 2 2 2 . . . 2 2 . . . . . . . . . . 2 2 2 2 2 2 2 2 2 2 2 . . . . 2 
2 2 2 2 2 . . . 2 . . . . . . . . . . . 2 2 2 . . . . . . . . . . . . 2 
2 2 2 . . . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . . . 2 
2 2 2 . . . . 2 2 . . . . . . . . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . . 2 
2 2 2 . . 2 2 2 . . . 2 2 2 2 2 2 2 2 . . 2 . . . 2 2 . . 2 . . . . . 2 
2 2 2 . . . . . . . . 2 . . . . . . . . . 2 . . . . . . . 2 . . . . . 2 
2 2 2 . . . . . . . . 2 . . . . . . . . . 2 . . . 2 2 2 2 2 . . . . . 2 
2 . . . . 2 2 2 2 2 2 2 . . . 2 2 2 2 2 2 2 . . 2 2 . . . . . . . . . 2 
2 . . . . 2 . 2 . . . . . . . . . . . . 2 . . . 2 . . . . . . . . . . 2 
2 . . . . 2 . 2 . . . . . . . . . . . . 2 . . . 2 . . . . . . . . 2 2 2 
2 . . . . 2 . 2 . 2 . 2 2 2 2 . . 2 . . . . . . 2 . . . 2 2 2 2 2 2 . 2 
2 . . . . 2 . 2 . 2 . . . . 2 . . 2 . . . . . . 2 . . . . . . . . . . 2 
2 . . . . 2 . . . 2 2 . . . 2 . . 2 . 2 2 2 2 2 2 . . . . . . . . . . 2 
2 . . . . 2 . . . . 2 2 2 2 2 . . 2 . 2 . . . . . . . . . . . . . . . 2 
2 . . . . 2 . . . . . . . . . . . 2 . 2 . . . . . . 2 2 2 2 2 2 2 . . 2 
2 . . . . 2 2 2 2 . . . . . . . 2 2 . 2 . . 2 2 . . 2 . . . . . 2 . . 2 
2 . . 2 . . . . 2 2 . . . . . 2 2 . . 2 . . 2 2 . . 2 . . . . . 2 . . 2 
2 . . 2 2 . . . 2 2 . . . . 2 2 . . . 2 . . . . . . 2 . . . 2 2 2 . . 2 
2 . . . 2 2 . 2 2 . . . . 2 2 . . . 2 2 . . . . . . 2 . . . 2 . . . . 2 
2 . . . . . 2 2 . . . . 2 2 . . . . 2 2 2 2 2 . . . 2 . . . 2 . . . . 2 
2 . . . . 2 2 . . . . 2 2 . . . . . . . . . 2 . . . 2 . . . 2 . . . . 2 
2 . . 2 2 2 . . . . 2 . . . . . . . . . . . 2 . . . 2 . . . 2 2 2 2 2 2 
2 . . 2 . . . . . 2 . . . . . . . . 2 . . 2 . . . . 2 2 2 . . . . . . 2 
2 . . 2 . . . . 2 . . 2 2 2 2 2 . . 2 . . 2 . . . . . . . 2 . . . . . 2 
2 . . 2 . . . 2 2 . . 2 . . . 2 . . 2 . . 2 . . . . . . 2 2 . . . . . 2 
2 . . 2 . . . . . . . 2 . . . 2 . . 2 . . 2 2 2 2 2 2 2 2 . . . . . . 2 
2 . . 2 . . . . . . . 2 . . . 2 . . 2 . . . . . 2 . . . . . . . . 2 2 2 
2 . . 2 2 . . . . . . 2 . . . 2 . . . . . . . . 2 . . . . . 2 2 2 2 . 2 
2 . . . 2 2 2 2 2 2 2 2 . . 2 2 . . . . . . . . 2 . . . . . . . . . . 2 
2 . . . . . . . . . . . . . 2 . . . . . . . . . . . . . . . . . . . . 2 
2 . . . . . . . . . . 2 2 2 2 . . . . 2 2 2 2 . . . 2 2 2 2 2 . . . 2 2 
2 2 2 . . . . . 2 2 2 2 . . . . . . . 2 2 2 2 . . . 2 . . . . . . . 2 2 
2 2 2 2 . . . . . . . . . . . . . . . 2 2 2 2 . . . 2 . . . . . . . 2 2 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . 2 2 2 2 . . . 2 . . 2 2 2 2 2 2 2 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,myTiles.tile4,sprites.castle.tileDarkGrass3,sprites.dungeon.greenOuterNorthWest,sprites.dungeon.greenOuterNorthEast,sprites.dungeon.greenOuterSouthWest,sprites.dungeon.greenOuterSouthEast,sprites.dungeon.greenOuterNorth2,sprites.dungeon.greenOuterNorth0,sprites.dungeon.greenOuterSouth2,sprites.dungeon.greenOuterEast2,sprites.dungeon.greenOuterWest2,sprites.dungeon.greenOuterEast0,sprites.dungeon.greenInnerNorthWest,sprites.dungeon.greenInnerNorthEast,sprites.dungeon.greenInnerSouthEast,sprites.dungeon.greenInnerSouthWest,sprites.dungeon.darkGroundCenter,sprites.dungeon.floorLight0,sprites.dungeon.hazardLava1,sprites.dungeon.floorLight2,sprites.castle.tilePath5,sprites.builtin.forestTiles0,sprites.dungeon.stairLadder,sprites.dungeon.stairLarge,sprites.dungeon.purpleOuterSouth0,sprites.dungeon.floorDark0,sprites.vehicle.roadHorizontal,sprites.vehicle.roadVertical,sprites.builtin.crowd0,sprites.builtin.crowd3,sprites.builtin.brick],
            TileScale.Sixteen
        )</field></block></next></block></next></block></next></block></next></block></statement><next><block type="mapplaceonrandomtile"><value name="sprite"><shadow type="variables_get"><field name="VAR" id="Yk]5X:Tf9r]Rw[*OQd%u">mySprite</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.dungeon.stairLadder</field></shadow></value><next><block type="camerafollow"><value name="sprite"><shadow type="variables_get"><field name="VAR" id="Yk]5X:Tf9r]Rw[*OQd%u">mySprite</field></shadow></value><next><block type="function_call"><mutation name="spawnEnemy" functionid="X]SDq}DgaB|Pr*G4,~PI"><arg name="数字" id="25l5utm7o3gm803j12juyk" type="number"/></mutation><value name="25l5utm7o3gm803j12juyk"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get"><field name="VAR" id="|x1iYZX%yUWc:bFp5^k:">enemyNumber</field></block></value><next><block type="function_call"><mutation name="spawnGems" functionid="CZhW#L?Y/U8izo3F+8Qj"><arg name="数字" id="an5at5vtw92m427toxe7" type="number"/></mutation><value name="an5at5vtw92m427toxe7"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get"><field name="VAR" id="dpLZE^5Cmu#/K%,c,C09">gemNumber</field></block></value><next><block type="gamecountdown"><value name="duration"><block type="variables_get"><field name="VAR" id="iNj!:=VGT}~dv|D1hx:O">levelTime</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="pxt-on-start" x="680" y="1276"><statement name="HANDLER"><block type="variables_set"><field name="VAR" id="Yk]5X:Tf9r]Rw[*OQd%u">mySprite</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate"><value name="img"><shadow type="screen_image_picker"><field name="img">img`
. . . . f f f f . . . . . 
. . f f f f f f f f . . . 
. f f f f f f c f f f . . 
f f f f f f c c f f f c . 
f f f c f f f f f f f c . 
c c c f f f e e f f c c . 
f f f f f e e f f c c f . 
f f f b f e e f b f f f . 
. f 4 1 f 4 4 f 1 4 f . . 
. f e 4 4 4 4 4 4 e f . . 
. f f f e e e e f f f . . 
f e f b 7 7 7 7 b f e f . 
e 4 f 7 7 7 7 7 7 f 4 e . 
e e f 6 6 6 6 6 6 f e e . 
. . . f f f f f f . . . . 
. . . f f . . f f . . . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set"><field name="VAR" id="1kwG34ZS!mk5NNF!(d[B">enemies</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="allOfKind"><value name="kind"><shadow type="spritekind"/><block type="spritetype"><field name="MEMBER">Enemy</field></block></value></block></value><next><block type="variables_set"><field name="VAR" id="1F4F3.G;a}H1e#kN1myj">gems</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="allOfKind"><value name="kind"><shadow type="spritekind"/><block type="spritetype"><field name="MEMBER">Food</field></block></value></block></value><next><block type="game_control_sprite"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><shadow type="variables_get"><field name="VAR" id="Yk]5X:Tf9r]Rw[*OQd%u">mySprite</field></shadow></value><next><block type="hudsetScore"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="variables_set"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="function_call"><mutation name="setLevelMap" functionid="jQ~h{CG_6(27vuY?{mo#"><arg name="level" id="0mnnhbo15h03bpzo0s5" type="number"/></mutation><value name="0mnnhbo15h03bpzo0s5"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" x="1480" y="1356"><mutation name="spawnEnemy" functionid="X]SDq}DgaB|Pr*G4,~PI"><arg name="数字" id="25l5utm7o3gm803j12juyk" type="number"/></mutation><field name="function_name">spawnEnemy</field><value name="25l5utm7o3gm803j12juyk"><shadow type="argument_reporter_number"><field name="VALUE">数字</field></shadow></value><statement name="STACK"><block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number"><field name="VALUE">数字</field></block></value><statement name="DO"><block type="variables_set"><field name="VAR" id="cJe[X63|a/Ns.x!lfU9C">enemySprite</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate"><value name="img"><shadow type="screen_image_picker"><field name="img">img`
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . f f f f . . . . . . . . . . 
. . . . . . . . f f 1 1 1 1 f f . . . . . . . . 
. . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
. . . . . . . f 1 1 1 1 1 1 1 1 f . . . . . . . 
. . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
. . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
. . . . . . f d d d 1 1 1 1 d d d f . . . . . . 
. . . . . . f b d b f d d f b d b f . . . . . . 
. . . . . . f c d c f 1 1 f c d c f . . . . . . 
. . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
. . . . . . f f f c d b 1 b d f f f f . . . . . 
. . . . f c 1 1 1 c b f b f c 1 1 1 c f . . . . 
. . . . f 1 b 1 b 1 f f f f 1 b 1 b 1 f . . . . 
. . . . f b f b f f f f f f b f b f b f . . . . 
. . . . . . . . . f f f f f f . . . . . . . . . 
. . . . . . . . . . . f f f . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="array_push"><value name="list"><block type="variables_get"><field name="VAR" id="1kwG34ZS!mk5NNF!(d[B">enemies</field></block></value><value name="value"><block type="variables_get"><field name="VAR" id="cJe[X63|a/Ns.x!lfU9C">enemySprite</field></block></value><next><block type="controls_if"><mutation elseif="2" else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="mapplaceonrandomtile"><value name="sprite"><shadow type="variables_get"><field name="VAR" id="cJe[X63|a/Ns.x!lfU9C">enemySprite</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.castle.tilePath5</field></shadow></value></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></value><statement name="DO1"><block type="mapplaceonrandomtile"><value name="sprite"><shadow type="variables_get"><field name="VAR" id="cJe[X63|a/Ns.x!lfU9C">enemySprite</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.castle.tilePath5</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></value><statement name="DO2"><block type="mapplaceonrandomtile"><value name="sprite"><shadow type="variables_get"><field name="VAR" id="cJe[X63|a/Ns.x!lfU9C">enemySprite</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.dungeon.darkGroundCenter</field></shadow></value></block></statement><statement name="ELSE"><block type="mapplaceonrandomtile"><value name="sprite"><shadow type="variables_get"><field name="VAR" id="cJe[X63|a/Ns.x!lfU9C">enemySprite</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.dungeon.floorLight2</field></shadow></value></block></statement><next><block type="function_call"><mutation name="resetSpriteSpeed" functionid="]WL2WA2{^-gRN49R/^zV"><arg name="spriteToReset" id="anhyrrglehubwlsjusxro" type="Sprite"/></mutation><value name="anhyrrglehubwlsjusxro"><shadow type="variables_get"><field name="VAR" id="Yk]5X:Tf9r]Rw[*OQd%u">mySprite</field></shadow><block type="variables_get"><field name="VAR" id="cJe[X63|a/Ns.x!lfU9C">enemySprite</field></block></value></block></next></block></next></block></next></block></statement></block></statement></block><block type="forever" x="460" y="4470"><statement name="HANDLER"><block type="playMelody"><value name="melody"><shadow type="melody_editor"><field name="melody">"E B C5 A F D A G "</field></shadow></value><value name="tempo"><shadow type="math_number_minmax"><mutation min="40" max="500" label="Number" precision="0"/><field name="SLIDER">120</field></shadow></value></block></statement></block><block type="spriteshitwall" x="460" y="4915"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Enemy</field></shadow></value><statement name="HANDLER"><block type="function_call"><mutation name="resetSpriteSpeed" functionid="]WL2WA2{^-gRN49R/^zV"><arg name="spriteToReset" id="anhyrrglehubwlsjusxro" type="Sprite"/></mutation><value name="anhyrrglehubwlsjusxro"><shadow type="variables_get"><field name="VAR" id="Yk]5X:Tf9r]Rw[*OQd%u">mySprite</field></shadow><block type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value><next><block type="device_while"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get"><field name="property">Sprite.vx</field><value name="mySprite"><block type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get"><field name="property">Sprite.vy</field><value name="mySprite"><block type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value></block></value><statement name="DO"><block type="function_call"><mutation name="resetSpriteSpeed" functionid="]WL2WA2{^-gRN49R/^zV"><arg name="spriteToReset" id="anhyrrglehubwlsjusxro" type="Sprite"/></mutation><value name="anhyrrglehubwlsjusxro"><shadow type="variables_get"><field name="VAR" id="Yk]5X:Tf9r]Rw[*OQd%u">mySprite</field></shadow><block type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">sprite</field></block></value></block></statement></block></next></block></statement></block><block type="spritesoverlap" x="1014" y="5240"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><shadow type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></shadow></value><value name="otherKind"><shadow type="spritekind"><field name="MEMBER">Enemy</field></shadow></value><statement name="HANDLER"><block type="gameOver"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation></block></statement></block><block type="spriteshittile" x="686" y="5421"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Player</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker"><field name="tile">sprites.dungeon.stairLarge</field></shadow></value><value name="HANDLER_DRAG_PARAM_location"><shadow type="argument_reporter_custom"><mutation typename="tiles.Location"/><field name="VALUE">location</field></shadow></value><statement name="HANDLER"><block type="controls_if"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">4</field></shadow></value></block></value><statement name="DO0"><block type="gameOver"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="effect">effects.confetti</field><value name="win"><shadow type="toggleWinLose"><field name="win">true</field></shadow></value></block></statement><statement name="ELSE"><block type="function_call"><mutation name="destroyAllGem" functionid="@~JhBlG]NLL]?m,dP[KZ"/><next><block type="function_call"><mutation name="destroyAllEnemies" functionid="ojB*tliWTGOHi)JAfGXq"/><next><block type="variables_change"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field><value name="VALUE"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="function_call"><mutation name="setLevelMap" functionid="jQ~h{CG_6(27vuY?{mo#"><arg name="level" id="0mnnhbo15h03bpzo0s5" type="number"/></mutation><value name="0mnnhbo15h03bpzo0s5"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get"><field name="VAR" id="nkBeQEp|E3PWjpBs=wRQ">level</field></block></value></block></next></block></next></block></next></block></statement></block></statement></block><block type="spritesoverlap" x="460" y="5924"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><shadow type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></shadow></value><value name="otherKind"><shadow type="spritekind"><field name="MEMBER">Food</field></shadow></value><statement name="HANDLER"><block type="spritedestroy"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><field name="effect">effects.smiles</field><value name="sprite"><block type="argument_reporter_custom"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></block></value><value name="duration"><shadow type="timePicker"><field name="ms">500</field></shadow></value><next><block type="hudChangeScoreBy"><value name="value"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></next></block></statement></block><block type="gameinterval" x="1102" y="5924"><value name="period"><shadow type="timePicker"><field name="ms">500</field></shadow></value><statement name="HANDLER"><block type="pxt_controls_for_of"><value name="LIST"><block type="variables_get"><field name="VAR" id="1kwG34ZS!mk5NNF!(d[B">enemies</field></block></value><value name="VAR"><shadow type="variables_get_reporter"><field name="VAR" id="O?7)73BeUP;5chU}*$:-">enemySprite2</field></shadow></value><statement name="DO"><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get"><field name="property">Sprite.vx</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="O?7)73BeUP;5chU}*$:-">enemySprite2</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="controls_if"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get"><field name="property">Sprite.vy</field><value name="mySprite"><block type="variables_get"><field name="VAR" id="O?7)73BeUP;5chU}*$:-">enemySprite2</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="function_call"><mutation name="resetSpriteSpeed" functionid="]WL2WA2{^-gRN49R/^zV"><arg name="spriteToReset" id="anhyrrglehubwlsjusxro" type="Sprite"/></mutation><value name="anhyrrglehubwlsjusxro"><shadow type="variables_get"><field name="VAR" id="Yk]5X:Tf9r]Rw[*OQd%u">mySprite</field></shadow><block type="variables_get"><field name="VAR" id="O?7)73BeUP;5chU}*$:-">enemySprite2</field></block></value></block></statement></block></statement></block></statement></block></statement></block></xml>